(this.webpackJsonpnewfreebies=this.webpackJsonpnewfreebies||[]).push([[0],{103:function(e,t,a){},112:function(e,t,a){e.exports=a(191)},117:function(e,t,a){},142:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},191:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=(a(50),a(27)),l=a.n(s),i=a(9),r=a(10),c=a(12),m=a(11),u=a(13),d=(a(117),a(56),a(39)),h=a(14),p=a.n(h);a(90),a(91),a(195);p.a.initializeApp({apiKey:"AIzaSyBB4oajlQe-1DOVQgPPioeNtE7rcceJAak",authDomain:"freebies-test.firebaseapp.com",databaseURL:"https://freebies-test.firebaseio.com",projectId:"freebies-test",storageBucket:"freebies-test.appspot.com",messagingSenderId:"744518050160",appId:"1:744518050160:web:6dbf6fa8ddcedf8d442fb5",measurementId:"G-LTY2C6HTC3"});p.a.auth();var f=p.a.firestore(),E=p.a.storage(),g=(p.a,a(121),a(104)),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={user:null},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authUnRegFunc=p.a.auth().onAuthStateChanged((function(t){t?(e.setState((function(e){return e.user=t,e})),e.props.updateUser(t)):(e.setState((function(e){return e.user=null,e})),e.props.updateUser(null))}))}},{key:"componentWillUnmount",value:function(){this.authUnRegFunc.off()}},{key:"signIn",value:function(){var e=new p.a.auth.GoogleAuthProvider;p.a.auth().signInWithPopup(e).catch((function(e){return alert(e)})),p.a.auth().onAuthStateChanged((function(e){e&&(window.location="/home")}))}},{key:"render",value:function(){return o.a.createElement("section",{className:"landing-splash py-5"},o.a.createElement("div",{className:"container h-100"},o.a.createElement("div",{className:"row h-100 align-items-center"},o.a.createElement("div",{className:"col-lg-12"},o.a.createElement("h1",{className:"display-3 text-white mt-5 mb-2"},"Welcome to Freebies!"),o.a.createElement("p",{className:"lead mb-5 text-white"},"Our goal is to help students navigate all of the free resources that University of Washington has to offer.")),o.a.createElement("button",{type:"button",onClick:this.signIn,className:"btn btn-primary ml-3"},"Login"),o.a.createElement("div",{className:"smooth-scroll"},o.a.createElement(g.HashLink,{smooth:!0,to:"#features"},o.a.createElement("button",{type:"button",className:"btn btn-secondary ml-3"},"Learn More"))))))}}]),t}(n.Component),v=a(41),y=(a(142),a(202)),D=a(201),w=a(197),O=a(200),N=a(111),C=a(19),j=a(199),P=a(49),k=a.n(P),M=(a(101),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).createOpenModal=function(){a.setState({createModalShow:!0})},a.createClose=function(){return a.setState({createModalShow:!1,startDate:null,endDate:null})},a.handleOptionChange=function(e){a.setState({selectedOption:e.target.value})},a.addNewPost=function(e){var t=a.state.imageToUpload;null==t?a.addNewPostWithDefaultImage():a.addNewPostWithUploadImage(t)},a.addNewPostWithUploadImage=function(e){E.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})}),(function(e){console.log("this is the error during upload: "+e)}),(function(){E.ref("images").child(e.name).getDownloadURL().then((function(t){a.setState((function(){return{title:document.getElementById("inputTitle").value,location:document.getElementById("inputLocation").value,description:document.getElementById("inputDescription").value,isDefinite:this.state.selectedOption,url:t,imageName:e.name,tag:document.getElementById("inputTag").value}}),(function(){return a.addFunction()}))}))}))},a.addNewPostWithDefaultImage=function(){a.setState((function(){return{title:document.getElementById("inputTitle").value,location:document.getElementById("inputLocation").value,description:document.getElementById("inputDescription").value,isDefinite:this.state.selectedOption,url:"https://firebasestorage.googleapis.com/v0/b/freebies-test.appspot.com/o/uw_icon.png?alt=media&token=5edfd86e-7166-4435-83eb-cc529c7ecc65",imageName:"default",tag:document.getElementById("inputTag").value}}),(function(){return a.addFunction()}))},a.handleImageChange=function(e){if(e.target.files[0]){var t=e.target.files[0];a.setState({imageToshow:URL.createObjectURL(t),imageToUpload:t})}},a.checkCondition=function(e){""==document.getElementById("inputTitle").value||""==document.getElementById("inputLocation").value||""==document.getElementById("inputDescription").value||""==document.getElementById("inputTag").value?alert("Please fill out all the missing fields!"):"limited"!=a.state.selectedOption||null!=a.state.startDate&&null!=a.state.endDate?"limited"==a.state.selectedOption&&a.state.startDate>a.state.endDate?alert("The end time have to be later than the start time."):a.addNewPost(e):alert("Please fill out a start time and end time!")},a.state={createModalShow:!1,selectedOption:"limited",title:null,description:null,downvotes:null,isDefinite:null,location:null,tag:null,upvotes:null,startDate:null,endDate:null,imageToshow:null,imageToUpload:null,url:"",imageName:null,progress:0},a.createOpenModal=a.createOpenModal.bind(Object(C.a)(a)),a.createClose=a.createClose.bind(Object(C.a)(a)),a.addNewPost=a.addNewPost.bind(Object(C.a)(a)),a.checkCondition=a.checkCondition.bind(Object(C.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"addFunction",value:function(){f.collection("posts").add({title:this.state.title,location:this.state.location,description:this.state.description,downvotes:"0",endDate:this.state.endDate,isDefinite:this.state.isDefinite,url:this.state.url,startDate:this.state.startDate,tag:this.state.tag,upvotes:"0",imageName:this.state.imageName,createAt:new Date,username:this.props.userEmail}).then((function(e){console.log(e.id),window.location.reload()})),this.createClose()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(j.a,{show:this.state.createModalShow,onHide:this.createClose,backdrop:"static"},o.a.createElement(j.a.Header,{closeButton:!0},o.a.createElement(j.a.Title,null,"Create Post")),o.a.createElement(j.a.Body,null,o.a.createElement("div",{className:"modal-body"},o.a.createElement("input",{type:"text",id:"inputTitle",className:"form-control mb-2",placeholder:"Title"}),o.a.createElement("input",{type:"text",id:"inputLocation",className:"form-control mb-2",placeholder:"Location"}),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",null,"Post image (optional):")),o.a.createElement("img",{src:this.state.imageToshow,height:"100",width:"150"}),o.a.createElement("input",{type:"file",onChange:this.handleImageChange}),o.a.createElement("progress",{className:"mb-2",value:this.state.progress,max:"100"})),o.a.createElement("div",null,o.a.createElement("p",null,"Event time limit"),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{type:"radio",value:"limited",id:"inputDefinite",checked:"limited"===this.state.selectedOption,onChange:this.handleOptionChange}),o.a.createElement("label",{className:"form-check-label"},"Limited")),o.a.createElement("div",{className:"form-check form-check-inline mb-2"},o.a.createElement("input",{type:"radio",value:"unlimited",id:"inputIndefinite",checked:"unlimited"===this.state.selectedOption,onChange:this.handleOptionChange}),o.a.createElement("label",{className:"form-check-label"},"Unlimited")),"limited"===this.state.selectedOption?o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"Event Time: ")),o.a.createElement(k.a,{placeholderText:"Start Time",selected:this.state.startDate,onChange:function(t){return e.setState({startDate:t})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",className:"mb-2 form-control",id:"inputStartDate"}),o.a.createElement(k.a,{placeholderText:"End Time",selected:this.state.endDate,onChange:function(t){return e.setState({endDate:t})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",className:"mb-2 form-control",id:"inputEndDate"})):null),o.a.createElement("textarea",{id:"inputDescription",className:"form-control mb-2",placeholder:"Description"}),o.a.createElement("input",{type:"text",id:"inputTag",className:"form-control mb-2",placeholder:"Tag"}))),o.a.createElement(j.a.Footer,null,o.a.createElement(w.a,{variant:"secondary",onClick:this.createClose},"CANCEL"),o.a.createElement(w.a,{variant:"primary",onClick:this.checkCondition},"SUBMIT"))))}}]),t}(n.Component)),S=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authUnsub=p.a.auth().onAuthStateChanged((function(t){e.setState({authenticated:null!=t})}))}},{key:"componentWillUnmount",value:function(){this.authUnsub()}},{key:"handleSignOut",value:function(e){var t=this;e.preventDefault(),this.setState({working:!0,errorMessage:void 0}),p.a.auth().signOut().catch((function(e){return t.setState({errorMessage:e.message})})).then(window.location="/")}},{key:"render",value:function(){var e=this;p.a.auth().currentUser;return o.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(t){return e.handleSignOut(t)},style:{}},"Sign Out")}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onAddClick=function(){var e=a.refCreateView.current;0==e.state.createModalShow&&e.createOpenModal()},a.refCreateView=o.a.createRef(),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{className:"App-header"},o.a.createElement(y.a,{bg:"dark",variant:"dark"},o.a.createElement(y.a.Brand,{href:"/home",id:"logo"},o.a.createElement("img",{src:"img/freebies.png",width:"35",height:"45",className:"d-inline-block align-top",alt:"logo"}),o.a.createElement("span",null,"Freebies")),o.a.createElement(D.a,{className:"navbar-nav nav-fill w-100"},o.a.createElement(D.a.Item,{className:"mt-2 newPostContainer"},o.a.createElement(M,{ref:this.refCreateView,userEmail:this.props.userEmail}),o.a.createElement(w.a,{variant:"info",onClick:this.onAddClick},"New Post")),o.a.createElement(D.a.Item,{className:"ml-5 mt-2 searchContainer"},o.a.createElement(O.a,{inline:!0},o.a.createElement(N.a,{id:"search",type:"text",placeholder:"Search for freebies",className:"edit_text"}),o.a.createElement(w.a,{value:"yes",variant:"outline-info",onClick:this.props.searchDatabase},"Search"))),o.a.createElement(D.a.Item,null,o.a.createElement("div",{class:"loginInfo"},"Filter by time limit"),o.a.createElement("div",{id:"filterButton"},o.a.createElement("span",{class:"b"},o.a.createElement(D.a.Item,null,o.a.createElement(w.a,{variant:"secondary",size:"sm",value:"limited",onClick:this.props.changeDefinite},"Limited"))),o.a.createElement("span",{class:"b"},o.a.createElement(D.a.Item,null,o.a.createElement(w.a,{variant:"secondary",size:"sm",value:"unlimited",onClick:this.props.changeDefinite},"Unlimited"))))),o.a.createElement(D.a.Item,{class:"loginInfo"},o.a.createElement("em",null,this.props.userEmail),o.a.createElement(D.a.Link,{href:"#signout"},o.a.createElement(S,null))))))}}]),t}(n.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",{className:"py-5 bg-dark"},o.a.createElement("div",{className:"container"},o.a.createElement("p",{className:"m-0 text-center text-white"},"Copyright \xa9 Freebies 2019")))}}]),t}(n.Component),U=a(198),B=a(203),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).editOnePost=function(e){var t=a.state.imageToUpload;null==t?a.editPostWithDefaultImage():a.editPostWithUploadImage(t)},a.editPostWithUploadImage=function(e){E.ref("images/".concat(e.name)).put(e).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);a.setState({progress:t})}),(function(e){console.log("this is the error during upload: "+e)}),(function(){"default"!=a.state.imageName&&E.ref("images").child(a.state.imageName).delete().then((function(){console.log("Delete image yes.")})).catch((function(e){console.log("error in delete the image.")}));E.ref("images").child(e.name).getDownloadURL().then((function(t){a.setState((function(){return{title:document.getElementById("inputEditTitle").value,location:document.getElementById("inputEditLocation").value,description:document.getElementById("inputEditDescription").value,url:t,imageName:e.name,tag:document.getElementById("inputEditTag").value}}),(function(){return a.editFunction()}))}))}))},a.editPostWithDefaultImage=function(){a.setState((function(){return{title:document.getElementById("inputEditTitle").value,location:document.getElementById("inputEditLocation").value,description:document.getElementById("inputEditDescription").value,tag:document.getElementById("inputEditTag").value}}),(function(){return a.editFunction()}))},a.handleImageChange=function(e){if(e.target.files[0]){var t=e.target.files[0];a.setState({imageToshow:URL.createObjectURL(t),imageToUpload:t})}},a.checkCondition=function(e){""==document.getElementById("inputEditTitle").value||""==document.getElementById("inputEditLocation").value||""==document.getElementById("inputEditDescription").value||""==document.getElementById("inputEditTag").value?alert("Please fill out all the missing fields!"):"limited"!=a.state.isDefinite||null!=a.state.startDate&&null!=a.state.endDate?"limited"==a.state.isDefinite&&a.state.startDate>a.state.endDate?alert("The end time have to be later than the start time."):a.editOnePost(e):alert("Please fill out a start time and end time!")},a.state={title:a.props.onePost.data.title,description:a.props.onePost.data.description,isDefinite:a.props.onePost.data.isDefinite,location:a.props.onePost.data.location,tag:a.props.onePost.data.tag,imageName:a.props.onePost.data.imageName,imageToUpload:null,imageToShow:a.props.onePost.data.url,url:a.props.onePost.data.url,progress:0,startDate:null,endDate:null},"limited"==a.state.isDefinite&&(a.state.startDate=a.props.onePost.data.startDate.toDate(),a.state.endDate=a.props.onePost.data.endDate.toDate()),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"editFunction",value:function(){f.collection("posts").doc(this.props.onePost.key).update({title:this.state.title,location:this.state.location,description:this.state.description,url:this.state.url,tag:this.state.tag,imageName:this.state.imageName,startDate:this.state.startDate,endDate:this.state.endDate}).then((function(){console.log("Document successfully updated!"),window.location.reload()})).catch((function(e){console.error("Error updating document: ",e)})),this.props.onHide()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(j.a,Object.assign({},this.props,{backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(j.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"EDIT POST")),o.a.createElement(j.a.Body,null,o.a.createElement("div",{className:"modal-body"},o.a.createElement("span",{className:"modal-label"},"Title: "),o.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Title",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})},id:"inputEditTitle"}),o.a.createElement("span",{className:"modal-label"},"Location: "),o.a.createElement("input",{type:"text",className:" form-control mb-2",placeholder:"Location",value:this.state.location,onChange:function(t){return e.setState({location:t.target.value})},id:"inputEditLocation"}),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",null,"Post image (optional):")),o.a.createElement("img",{src:this.state.imageToshow,height:"100",width:"150"}),o.a.createElement("input",{type:"file",onChange:this.handleImageChange}),o.a.createElement("progress",{className:"mb-2",value:this.state.progress,max:"100"})),o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"Type: "),this.state.isDefinite),"limited"===this.state.isDefinite?o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"Start Time: "),o.a.createElement(k.a,{selected:this.state.startDate,onChange:function(t){return e.setState({startDate:t})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",className:"mb-2 form-control",id:"inputEditStartDate"})),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"End Time: "),o.a.createElement(k.a,{selected:this.state.endDate,onChange:function(t){return e.setState({endDate:t})},showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",dateFormat:"MMMM d, yyyy h:mm aa",className:"mb-2 form-control",id:"inputEditEndDate"}))):null),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"Description: "),o.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Description",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},id:"inputEditDescription"})),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},"Tag: "),o.a.createElement("input",{type:"text",className:"form-control mb-2",placeholder:"Tag",value:this.state.tag,onChange:function(t){return e.setState({tag:t.target.value})},id:"inputEditTag"})))),o.a.createElement(j.a.Footer,null,o.a.createElement(w.a,{variant:"secondary",onClick:this.props.onHide},"CANCEL"),o.a.createElement(w.a,{variant:"primary",onClick:this.checkCondition},"SUBMIT"))))}}]),t}(n.Component),F=(a(187),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).upVote=function(e){a.setState({upVote:a.state.upVote+1},(function(){f.collection("posts").doc(a.props.onePost.key).update({upvotes:a.state.upVote.toString()}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))}))},a.downVote=function(e){a.setState({downVote:a.state.downVote+1},(function(){f.collection("posts").doc(a.props.onePost.key).update({downvotes:a.state.downVote.toString()}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))}))},a.state={upVote:parseInt(a.props.onePost.data.upvotes),downVote:parseInt(a.props.onePost.data.downvotes)},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(j.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(j.a.Header,{className:"modal-header",closeButton:!0},o.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},this.props.onePost.data.title)),o.a.createElement(j.a.Body,null,o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{style:{height:"20vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},o.a.createElement("img",{src:this.props.onePost.data.url||"http://via.placeholder.com/100x150",height:"100",width:"150"})),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"}," Type: ")),o.a.createElement("span",{class:"postValue"},this.props.onePost.data.isDefinite)),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"},"Location:  ")),o.a.createElement("span",{class:"postValue"},this.props.onePost.data.location)),"limited"==this.props.onePost.data.isDefinite?o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"},"Event Date and Time: "))),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"}," Start date and time:")," "),o.a.createElement("span",{class:"postValue"},this.props.onePost.data.startDate.toDate().toString().slice(0,-32)," hours")),o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"}," End date and time: ")),o.a.createElement("span",{class:"postValue"},this.props.onePost.data.endDate.toDate().toString().slice(0,-32)," hours"))):null,o.a.createElement("p",null,o.a.createElement("span",{className:"modal-label"},o.a.createElement("span",{class:"postHeaders"},"Description: ")," "),o.a.createElement("span",{class:"postValue"},this.props.onePost.data.description)))),o.a.createElement(j.a.Footer,null,o.a.createElement("span",null,this.state.upVote),o.a.createElement(w.a,{variant:"primary",onClick:this.upVote},"Up Vote"),o.a.createElement(w.a,{variant:"primary",onClick:this.downVote},"Down Vote"),o.a.createElement("span",null,this.state.downVote),o.a.createElement("span",{class:"postValue"},"Created by: ",this.props.onePost.data.username),this.props.userEmail==this.props.onePost.data.username?o.a.createElement("div",null,o.a.createElement(w.a,{variant:"danger",onClick:this.props.openEditModal},"Edit"),o.a.createElement(w.a,{variant:"danger",onClick:this.props.openDeleteModal},"Delete")):null)))}}]),t}(n.Component)),L=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(j.a,Object.assign({},this.props,{backdrop:"static",size:"lg","aria-labelledby":"contained-modal-title-vcenter"}),o.a.createElement(j.a.Body,null,"Are you sure you want to delete this Post"),o.a.createElement(j.a.Footer,null,o.a.createElement(w.a,{variant:"secondary",onClick:this.props.handleDeleteOnePost},"YES"),o.a.createElement(w.a,{variant:"danger",onClick:this.props.onHide},"NO"))))}}]),t}(n.Component),V=(a(188),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).openEditModal=function(){a.setState({showPostModal:!1,showEditModal:!0})},a.openPostModal=function(){a.setState({showPostModal:!0,showEditModal:!1})},a.openDeleteModal=function(){a.setState({showEditModal:!1,showPostModal:!0,showDeleteModal:!0})},a.closeEditModal=function(){a.setState({showEditModal:!1})},a.closePostModal=function(){a.setState({showPostModal:!1})},a.closeDeleteModal=function(){a.setState({showDeleteModal:!1})},a.handleDeleteOnePost=function(){a.setState({showDeleteModal:!1,showPostModal:!1},(function(){(f.collection("posts").doc(a.props.onePost.key).delete().then((function(){console.log("Document successfully deleted!"),window.location.reload()})).catch((function(e){console.error("Error removing document: ",e)})),"default"!=a.props.onePost.data.imageName)&&E.ref("images").child(a.props.onePost.data.imageName).delete().then((function(){console.log("Delete image yes.")})).catch((function(e){console.log("error in delete the image.")}))}))},a.state={showPostModal:!1,showEditModal:!1,showDeleteModal:!1},a.openEditModal=a.openEditModal.bind(Object(C.a)(a)),a.openPostModal=a.openPostModal.bind(Object(C.a)(a)),a.openDeleteModal=a.openDeleteModal.bind(Object(C.a)(a)),a.closeEditModal=a.closeEditModal.bind(Object(C.a)(a)),a.closePostModal=a.closePostModal.bind(Object(C.a)(a)),a.closeDeleteModal=a.closeDeleteModal.bind(Object(C.a)(a)),a.handleDeleteOnePost=a.handleDeleteOnePost.bind(Object(C.a)(a)),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.state.showPostModal&&o.a.createElement(F,{show:this.state.showPostModal,onHide:this.closePostModal,openEditModal:this.openEditModal,openDeleteModal:this.openDeleteModal,onePost:this.props.onePost,userEmail:this.props.userEmail}),this.state.showEditModal&&o.a.createElement(x,{show:this.state.showEditModal,onHide:this.closeEditModal,onePost:this.props.onePost,getDataToDisplay:this.props.getDataToDisplay}),this.state.showDeleteModal&&o.a.createElement(L,{show:this.state.showDeleteModal,onHide:this.closeDeleteModal,onePost:this.props.onePost,handleDeleteOnePost:this.handleDeleteOnePost,state:this.state}))}}]),t}(n.Component)),H=(a(103),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onPostClick=function(){var e=a.refPostView.current;0==e.state.showPostModal&&e.openPostModal()},a.refPostView=o.a.createRef(),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(V,{ref:this.refPostView,onePost:this.props.onePost,userEmail:this.props.userEmail,getDataToDisplay:this.props.getDataToDisplay}),o.a.createElement(B.a,{onClick:this.onPostClick},o.a.createElement(B.a.Img,{id:"cardImg",variant:"top",src:this.props.onePost.data.url,height:"200",width:"100"}),o.a.createElement(B.a.Body,null,o.a.createElement(B.a.Title,{style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.onePost.data.title),o.a.createElement(B.a.Text,{id:"cardText",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.onePost.data.location))))}}]),t}(n.Component)),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getDataToDisplay=function(e){var t=[];f.collection("posts").where("isDefinite","==",a.props.isDefiniteSelected).orderBy("startDate","desc").get().then((function(e){e.forEach((function(e){var a=e.data();console.log("data: "+a.toString()),t.push({key:e.id,data:a})})),a.setState({posts:t})})).catch((function(e){return console.log(e)}))},a.searchDatabase=function(e){var t=document.getElementById("search").value.toLowerCase();f.collection("posts").get().then((function(e){var n=[];e.forEach((function(e){var a=e.data();a.title.toLowerCase().includes(t)&&n.push({key:e.id,data:a})})),a.setState({posts:n})})).catch((function(e){return console.log(e)}))},a.state={posts:null,selectedFile:null},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return"yes"==this.props.searchCheck?this.searchDatabase(this.props):null==this.state.posts?this.getDataToDisplay(this.props):console.log("Esle state: "+this.state.posts),o.a.createElement("section",{class:"middleSection"},o.a.createElement(U.a,{class:"cardContainer"},this.state.posts&&this.state.posts.map((function(t,a){return o.a.createElement(H,{class:"detail",userEmail:e.props.userEmail,onePost:t,getDataToDisplay:e.getDataToDisplay,key:a})}))))}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).changeDefinite=function(e){a.setState({isDefiniteSelected:e.target.value,searchCheck:"no"},(function(){a.onUpdate()}))},a.searchDatabase=function(e){a.setState({searchCheck:e.target.value})},a.onUpdate=function(){a.refUpdate.current.getDataToDisplay()},a.state={isDefiniteSelected:"limited",searchCheck:"no"},a.refUpdate=o.a.createRef(),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(v.BrowserRouter,null,o.a.createElement("div",{className:"dashboard"},o.a.createElement(T,{changeDefinite:this.changeDefinite,searchDatabase:this.searchDatabase,userEmail:this.props.userEmail,onUpdate:this.onUpdate}),o.a.createElement(d.d,{path:"/home",render:function(){return o.a.createElement(A,{isDefiniteSelected:e.state.isDefiniteSelected,ref:e.refUpdate,searchCheck:e.state.searchCheck,userEmail:e.props.userEmail})}}),o.a.createElement(I,{style:{position:"absolute",bottom:"0",right:"0"}})))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{className:"features text-white library py-5"},o.a.createElement("h2",{className:"text-center mb-5"},"About Freebies"),o.a.createElement("div",{className:"row justify-content-md-center"},o.a.createElement("div",{className:"col-md-6 mb-5"},o.a.createElement("div",{className:"h-100"},o.a.createElement("h4",{className:"text-center"},"What is Freebies?"),o.a.createElement("p",{className:"text-center mb-5"},"Freebies connects students at the University of Washington to the resources that they may be unaware of. Freebies allows for students to share resources amongst each other that they have found. "),o.a.createElement("h4",{className:"text-center"},"Why choose Freebies?"),o.a.createElement("p",{className:"text-center"},"As a crowd-sourced hub, we bring you resources that others are interested in, which might be an interest for you. Using this real-time platform is a convenient way to share information, rather than having to wait through the unversity's system.")))))}}]),t}(n.Component),z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("section",{id:"features",className:"features text-white py-5"},o.a.createElement("h2",{className:"text-center mb-5"},"Features"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4 mb-5"},o.a.createElement("div",{className:"h-100"},o.a.createElement("img",{className:"feature-img mb-3",src:"img/resources.png"}),o.a.createElement("h4",{className:"text-center"},"Resourceful"),o.a.createElement("p",{className:"text-center ml-3"},"A hub for all of the free resources on your campus. Look for and enjoy all of the resources that interest you. Resources that you might find are free food, classes, software and much more! "))),o.a.createElement("div",{className:"col-md-4 mb-5"},o.a.createElement("div",{className:"h-100"},o.a.createElement("img",{className:"feature-img mb-3",src:"img/community.png"}),o.a.createElement("h4",{className:"text-center"},"Community"),o.a.createElement("p",{className:"text-center"},"Share and find resources that you and many other students have posted. Upvote the resources that you find useful and that others should use."))),o.a.createElement("div",{className:"col-md-4 mb-5"},o.a.createElement("div",{className:"h-100"},o.a.createElement("img",{className:"feature-img mb-3 ",src:"img/search.png"}),o.a.createElement("h4",{className:"text-center"},"Search"),o.a.createElement("p",{className:"text-center mr-3"},"Look for the resources that matches what you are looking for. Find them quickly, because there are resources out there that only last for a limited time!")))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).updateUser=function(e){a.setState({user:e})},a.state={user:null},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authUnsub=p.a.auth().onAuthStateChanged((function(t){console.log("auth change"),e.setState({user:t})}))}},{key:"render",value:function(){var e=this;return p.a.auth().currentUser?(console.log("logged in"),console.log(p.a.auth().currentUser.email),this.state.user=p.a.auth().currentUser,console.log(this.state.user.email)):console.log("not signed in"),console.log(this.state.user),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(d.d,{exact:!0,path:"/",render:function(){return o.a.createElement("main",null,o.a.createElement(b,{updateUser:e.updateUser}),o.a.createElement(z,null),o.a.createElement(R,null),o.a.createElement(I,null))}}),this.state.user&&o.a.createElement(d.d,{path:"/home",render:function(){return o.a.createElement(W,{userEmail:e.state.user.email})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(189);l.a.render(o.a.createElement(v.BrowserRouter,{basename:"/freebies/newfreebies/"},o.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[112,1,2]]]);
//# sourceMappingURL=main.29068db9.chunk.js.map